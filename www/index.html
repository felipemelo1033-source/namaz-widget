<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATF Namaz Vakitleri</title>
    
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="apple-touch-icon.png">
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;800&family=Oregano&display=swap" rel="stylesheet">
    
    <style>
        /* --- 1. GRUNDLAYOUT --- */
        html, body { margin: 0; padding: 0; width: 100%; min-height: 100vh; background-color: white; font-family: 'Montserrat', sans-serif; display: flex; justify-content: center; overflow-x: hidden; }
        .container { width: 100%; height: 100vh; display: flex; flex-direction: column; align-items: center; padding: 20px; box-sizing: border-box; }
        @media (max-width: 768px) { .container { height: auto; min-height: 100vh; } }
    
        /* --- 2. LOGO UND TITEL --- */
        .logo-top { width: 450px; max-width: 60%; height: auto; margin-top: 20px; }
        .title-red { color: #cc0000; font-size: clamp(21px, 6vw, 60px); font-weight: 800; margin: 12px 0 15px 0; text-transform: uppercase; text-align: center; }
        .title-blue { color: #72b1c4; font-family: 'Oregano', cursive; font-size: clamp(40px, 8vw, 100px); margin: 7px 0 -3px 0; text-align: center; }
        #hicri-tarih { font-size: clamp(18px, 4vw, 28px); color: #666; margin-bottom: 10px; margin-top:10px; font-weight: 800; }
    
        /* --- 3. MEN√úS --- */
        .city-picker {
        display: flex;
            flex-direction: column; /* Alles UNTEREINANDER */
            align-items: center;    /* Alles MITTIG */
            gap: 0;                
            width: 100%;
        }       
        
        #state-select, #city-select { padding: 10px 15px; font-size: 18px; border-radius: 8px; border: 1px solid #ddd; background: #f9f9f9; color: #666; cursor: pointer; width: 250px; box-sizing: border-box; }
    
        /* --- 4. WIDGET --- */
        .custom-widget { background: #f9f9f9; border-radius: 30px; padding: 25px; box-shadow: 0 15px 40px rgba(0,0,0,0.1); width: 95%; max-width: 1300px; text-align: center; border: 2px solid #eee; box-sizing: border-box; }
        .countdown-container { display: flex; justify-content: center; gap: 10px; color: #cc0000; margin-bottom: 20px; }
        .countdown-number { font-size: clamp(40px, 10vw, 110px); font-weight: 800; line-height: 1; }
        .vakit-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: 10px; }
        .vakit-item { padding: 15px 5px; background: white; border-radius: 15px; border: 1px solid #ddd; }
        .vakit-item.active { border: 6px solid #cc0000; transform: scale(1.05); }
        .vakit-time { font-size: clamp(16px, 3vw, 38px); font-weight: 800; }

        #next-vakit-name { 
            color: #000000; font-weight: 800; text-transform: uppercase; 
            font-size: clamp(16px, 3vw, 24px); margin-bottom: 10px; letter-spacing: 1px; 
        }
    
        /* --- 5. WOCHEN-TABELLE --- */
        #weekly-container { 
            display: none; 
            margin-top: 25px !important; 
            margin-bottom: 0 !important; 
        }
        #weekly-table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        #weekly-table th { padding: 10px; border-bottom: 2px solid #cc0000; font-size: 14px; }
        #weekly-table td { padding: 12px 5px; border-bottom: 1px solid #eee; font-size: 14px; }
        #weekly-table tr:nth-child(even) { background-color: #f2f2f2; }
        #weekly-table tr:hover { background-color: #ffebeb; }

        #weekly-toggle-text {
            transition: all 0.2s ease;
            user-select: none;
        }
        #weekly-toggle-text:hover {
            color: #72b1c4;
            background-color: #f0f8fa;
        }
        #weekly-toggle-text:active {
            transform: scale(0.98);
            color: #000;
        }

        /* --- 6. AYET / FOOTER --- */
        #ayet-container { 
            display: none; 
            margin-top: 25px !important; 
            margin-bottom: 0 !important; 
            text-align: center; 
        }
        .ayet-label-box { color: #cc0000; font-weight: 800; font-size: 14px; text-transform: uppercase; border-bottom: 1px solid #eee; padding-bottom: 7px; }
        #ayet-text { font-family: 'Montserrat', sans-serif; font-style: italic; font-size: 16px; color: #333; line-height: 1.4; word-wrap: break-word;}
        #ayet-quelle { text-align: center; color: #888; font-weight: bold; font-size: 14px; margin-top: 3px; }
        @media screen and (min-width: 1200px) { #ayet-text { font-size: 32px; } }
        
        .footer { 
            width: 100%; 
            text-align: center; 
            color: #cc0000; 
            font-weight: 800; 
            font-size: 20px; 
            margin-top: 25px !important; 
            padding-bottom: 20px; 
        }
    
        @media (max-width: 768px) { .vakit-grid { grid-template-columns: repeat(2, 1fr); } #weekly-table { font-size: 12px; } }
    
        /* 1. Gemeinsame Basis f√ºr alle Eingabefelder */

        .search-wrapper {
            width: 100% !important;
            max-width: 350px !important;
            margin: 5px auto !important;
            position: relative; /* WICHTIG: Bezugspunkt f√ºr die Liste */
            z-index: 9999;      /* WICHTIG: H√∂her als alles andere auf der Seite */
        }

        #state-select, 
        #city-select {
            width: 100% !important;
            max-width: 350px !important;
            margin: 5px auto !important; /* Gleicher Abstand nach oben/unten */
            box-sizing: border-box !important;
            height: 45px !important;
            display: block !important; /* Erzwingt neue Zeile */
 
        }

        /* Die Eingabe-Gruppe */
        .input-group {
            display: flex;
            height: 45px; 
            background: #fff;
            border: 1px solid #ddd; 
            border-radius: 8px; 
            overflow: hidden;
            width: 100%;
            box-sizing: border-box;
        }

        .input-group:focus-within {
            border-color: #cc0000;
            box-shadow: 0 4px 15px rgba(204, 0, 0, 0.1);
        }

        #state-select, 
        #city-select {
            height: 45px;
            padding: 0 15px;
            font-size: 18px;
            font-family: 'Montserrat', sans-serif;
            color: #666;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
        }

        /* Das Suchfeld im Inneren der Gruppe */
        #city-search-input {
            flex: 1;
            border: none;
            padding: 0 15px;
            font-size: 18px;
            outline: none;
            height: 100%;
            background: transparent;
        }

        /* Der Standort-Button rechts im Feld */
        #location-btn {
            background: #f9f9f9;
            border: none;
            border-left: 1px solid #eee;
            padding: 0 15px;
            cursor: pointer;
            transition: background 0.2s;
        }

        #location-btn:hover {
            background: #f0f0f0;
        }

        /* Die Ergebnisliste (Dropdown) */
        #search-results {
    position: absolute;
    top: 45px;          /* Direkt unter der Input-Gruppe */
    left: 0;
    right: 0;
    background: white;
    border-radius: 0 0 12px 12px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2); /* Etwas st√§rkerer Schatten */
    display: none;
    max-height: 250px;
    overflow-y: auto;
    border: 1px solid #ddd;
    border-top: none;
    z-index: 10000;     /* Noch ein St√ºck h√∂her als der Wrapper */
}

/* 3. Sicherstellen, dass der Picker-Bereich nicht √ºberlagert */
.city-picker {
    position: relative;
    z-index: 1;         /* Niedriger z-index f√ºr die Men√ºs */
} 
    </style>
    
</head>
<body>
     <div class="container">

        <img src="logo_oben.svg" class="logo-top">
        <h1 class="title-red">NAMAZ VAKƒ∞TLERƒ∞</h1>

        <div class="search-wrapper">
            <div class="input-group">
                <input type="text" id="city-search-input" placeholder="≈ûehir ara..." autocomplete="off">
                <button id="location-btn" onclick="detectLocation()" title="Konumumu Bul">
                    <span style="font-size: 20px;">üìç</span>
                </button>
            </div>
            <div id="search-results"></div>
        </div>
        
        <div class="city-picker" id="picker-area">
            <select id="state-select" onchange="updateCities()">
                <option value="">Eyalet Se√ßin</option>
                <option value="850">Baden-W√ºrttemberg</option>
                <option value="851">Bayern</option>
                <option value="852">Berlin</option>
                <option value="853">Brandenburg</option>
                <option value="854">Bremen</option>
                <option value="855">Hamburg</option>
                <option value="856">Hessen</option>
                <option value="857">Mecklenburg-Vorpommern</option>
                <option value="858">Niedersachsen</option>
                <option value="859">Nordrhein-Westfalen</option>
                <option value="860">Rheinland-Pfalz</option>
                <option value="861">Saarland</option>
                <option value="862">Sachsen</option>
                <option value="863">Sachsen-Anhalt</option>
                <option value="864">Schleswig-Holstein</option>
                <option value="865">Th√ºringen</option>
            </select>
            <select id="city-select" style="display:none" onchange="handleManualCityChange()"></select>
        </div>

        <h2 class="title-blue" id="city-title">L√ºtfen Se√ßim Yapƒ±n</h2>
        <div id="g√ºncel-tarih" style="font-size: clamp(16px, 3.5vw, 15px); color: #333; margin-top: 15px; font-weight: 600;">--</div>
        <div id="hicri-tarih" style="margin-top: 5px !important;">--</div>

        <div class="custom-widget" id="main-widget" style="opacity: 0.5;">
            <div id="next-vakit-name">--</div>
            <div class="countdown-container">
                <div class="countdown-block"><span id="hours" class="countdown-number">00</span><br><small>Saat</small></div>
                <div class="countdown-number">:</div>
                <div class="countdown-block"><span id="minutes" class="countdown-number">00</span><br><small>Dakika</small></div>
                <div class="countdown-number">:</div>
                <div class="countdown-block"><span id="seconds" class="countdown-number">00</span><br><small>Saniye</small></div>
            </div>
            <div class="vakit-grid">
                <div class="vakit-item" id="box-0"><div>ƒ∞msak</div><div class="vakit-time" id="t-0">--:--</div></div>
                <div class="vakit-item" id="box-1"><div>G√ºne≈ü</div><div class="vakit-time" id="t-1">--:--</div></div>
                <div class="vakit-item" id="box-2"><div>√ñƒüle</div><div class="vakit-time" id="t-2">--:--</div></div>
                <div class="vakit-item" id="box-3"><div>ƒ∞kindi</div><div class="vakit-time" id="t-3">--:--</div></div>
                <div class="vakit-item" id="box-4"><div>Ak≈üam</div><div class="vakit-time" id="t-4">--:--</div></div>
                <div class="vakit-item" id="box-5"><div>Yatsƒ±</div><div class="vakit-time" id="t-5">--:--</div></div>
            </div>
        </div>

        <div id="weekly-container" class="custom-widget" style="display:none; margin-top:20px; margin-bottom:20px;">
            <div class="ayet-label-box" id="weekly-toggle-text" style="cursor:pointer; padding: 10px; border-radius: 10px;" onclick="toggleWeekly()">
                üìÖ 7 G√úNL√úK VAKƒ∞TLERƒ∞ G√ñSTER
            </div>
            
            <div id="weekly-table-wrapper" style="display:none; overflow-x:auto;">
                <table id="weekly-table">
                    <thead>
                        <tr><th>Tarih</th><th>ƒ∞msak</th><th>G√ºne≈ü</th><th>√ñƒüle</th><th>ƒ∞kindi</th><th>Ak≈üam</th><th>Yatsƒ±</th></tr>
                    </thead>
                    <tbody id="weekly-body"></tbody>
                </table>
            </div>
        </div>

        <div id="ayet-container" class="custom-widget">
            <div class="ayet-label-box">G√ºn√ºn Ayeti / Hadis-i ≈ûerifi</div>
            <div id="ayet-text"></div>
            <div id="ayet-quelle"></div>
        </div>
        

        <div class="footer">
            <div>Bƒ∞Z B√úY√úK Bƒ∞R Aƒ∞LEYƒ∞Z!</div>
            <div style="font-size:12px; font-weight:400; color:#999;">&copy; 2026 Alle Rechte vorbehalten</div>
            
            <div style="margin-top: 20px;">
                <img src="favicon.png" alt="ATF Logo" style="width: 40px; height: 40px; opacity: 0.8; filter: grayscale(20%);">
            </div>
        </div>

    </div>

    <script>
        let interval;
        let masterIndex = null;

        // L√§dt die Master-Datenbank
        async function loadMasterIndex() {
            if (masterIndex) return; // Schon geladen
            try {
                const res = await fetch('./data/master_index.json');
                masterIndex = await res.json();
            } catch (e) {
                console.error("Master Index y√ºklenemedi");
            }
        }

        // Die Hauptfunktion f√ºr den Standort
        async function detectLocation() {
            await loadMasterIndex();
            const btn = document.getElementById('location-btn');
            const originalText = btn.innerText;
            btn.innerText = "‚åõ ARANIYOR...";

            if (!navigator.geolocation) {
                alert("Tarayƒ±cƒ±nƒ±z konum √∂zelliƒüini desteklemiyor.");
                btn.innerText = originalText;
                return;
            }

            navigator.geolocation.getCurrentPosition(async (position) => {
                const lat = position.coords.latitude;
                const lon = position.coords.longitude;

                try {
                    // Reverse Geocoding API
                    const response = await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${lat}&longitude=${lon}&localityLanguage=tr`);
                    const data = await response.json();
                    
                    // Stadtname in Gro√übuchstaben (T√ºrkisch-kompatibel)
                    const detectedCity = (data.city || data.locality || "").toUpperCase('tr-TR');

                    if (masterIndex && masterIndex[detectedCity]) {
                        const stateId = masterIndex[detectedCity];

                        // 1. Eyalet se√ß
                        document.getElementById('state-select').value = stateId;

                        // 2. ≈ûehirleri y√ºkle (Senin fonksiyonun)
                        // Wir √ºbergeben detectedCity, damit updateCities es direkt selektiert
                        await updateCities(detectedCity);

                        // 3. Vakitleri g√ºncelle (Senin fonksiyonun)
                        update();

                        alert("Konum belirlendi: " + formatCityName(detectedCity));
                    } else {
                        alert("≈ûehir bulunamadƒ±: " + detectedCity);
                    }
                } catch (error) {
                    alert("Hata olu≈ütu.");
                }
                btn.innerText = originalText;
            }, () => {
                alert("Konum izni reddedildi.");
                btn.innerText = originalText;
            });
        }

        // Suchfunktion initialisieren
        document.getElementById('city-search-input').addEventListener('input', async function(e) {
            const term = e.target.value.toUpperCase('tr-TR');
            const resultsDiv = document.getElementById('search-results');
            
            if (term.length < 2) {
                resultsDiv.style.display = 'none';
                return;
            }

            await loadMasterIndex(); // Sicherstellen, dass Index da ist
            
            const matches = Object.keys(masterIndex).filter(city => city.includes(term)).slice(0, 10);
            
            if (matches.length > 0) {
                resultsDiv.innerHTML = matches.map(city => `
                    <div onclick="selectCityFromSearch('${city}')" 
                        style="padding: 12px; border-bottom: 1px solid #eee; cursor: pointer; text-align: left;">
                        ${formatCityName(city)}
                    </div>
                `).join('');
                resultsDiv.style.display = 'block';
            } else {
                resultsDiv.style.display = 'none';
            }
        });

        // Funktion, wenn eine Stadt aus der Suche angeklickt wird
        async function selectCityFromSearch(cityName) {
            const stateId = masterIndex[cityName];
            
            // UI Update
            document.getElementById('state-select').value = stateId;
            document.getElementById('city-search-input').value = formatCityName(cityName);
            document.getElementById('search-results').style.display = 'none';

            // Deine Funktionen aufrufen
            await updateCities(cityName);
            update();
        }

        let currentStateIndex = {};
        const urlParams = new URLSearchParams(window.location.search);
        const vakitNamen = ["ƒ∞msak", "G√ºne≈ü", "√ñƒüle", "ƒ∞kindi", "Ak≈üam", "Yatsƒ±"];

        function formatCityName(name) {
            if (!name) return "";
            const lowerCaseWords = ["an", "der", "den", "dem", "am", "im", "bei", "und", "d.", "a.", "v."];
            let words = name.toLowerCase().split(' ');
            return words.map((word, index) => {
                const cap = (w) => {
                    if (w.includes('(')) return w.split('(').map(p => p.charAt(0).toUpperCase() + p.slice(1)).join('(');
                    return w.charAt(0).toUpperCase() + w.slice(1);
                }
                if (word.includes('-')) return word.split('-').map(p => cap(p)).join('-');
                return (index === 0 || !lowerCaseWords.includes(word)) ? cap(word) : word;
            }).join(' ');
        }

        async function updateCities(savedCityId = null) {
            const stateId = document.getElementById('state-select').value;
            const citySelect = document.getElementById('city-select');
            if (!stateId) { citySelect.style.display = 'none'; return; }
            try {
                const res = await fetch(`./data/${stateId}/index.json`);
                currentStateIndex = await res.json();
                citySelect.innerHTML = '<option value="">≈ûehir Se√ßin</option>';
                Object.keys(currentStateIndex).sort().forEach(c => {
                    let opt = document.createElement('option');
                    opt.value = c; opt.text = formatCityName(c);
                    if(savedCityId === c) opt.selected = true;
                    citySelect.appendChild(opt);
                });

                if (savedCityId) {
                    citySelect.value = savedCityId;
                }

                citySelect.style.display = 'inline-block';
            } catch (e) {}
        }

        function toggleWeekly() {
            const el = document.getElementById('weekly-table-wrapper');
            const label = document.getElementById('weekly-toggle-text');
            
            if (el.style.display === 'none') {
                el.style.display = 'block';
                label.innerText = "üìÖ 7 G√úNL√úK VAKƒ∞TLERƒ∞ Gƒ∞ZLE";
            } else {
                el.style.display = 'none';
                label.innerText = "üìÖ 7 G√úNL√úK VAKƒ∞TLERƒ∞ G√ñSTER";
            }
        }

        function renderWeekly(cityData, cityName) {
            const body = document.getElementById('weekly-body');
            body.innerHTML = "";
            if (urlParams.has('admin')) return;
            document.getElementById('weekly-container').style.display = 'block';
            const today = new Date();
            for (let i = 0; i < 7; i++) {
                const d = new Date(today); d.setDate(today.getDate() + i);
                const k = d.toLocaleDateString('de-DE', {day:'2-digit', month:'2-digit', year:'numeric'});
                const day = cityData[k];
                if (day) {
                    const row = `<tr><td><b>${k}</b></td><td>${day.vakitler[0]}</td><td>${day.vakitler[1]}</td><td>${day.vakitler[2]}</td><td>${day.vakitler[3]}</td><td>${day.vakitler[4]}</td><td>${day.vakitler[5]}</td></tr>`;
                    body.innerHTML += row;
                }
            }
        }

        function updateCurrentDate() {
            const jetzt = new Date();
            
            // Datumsteil (z.B. 27 Ocak 2026)
            const datePart = jetzt.toLocaleDateString('tr-TR', { 
                day: 'numeric', 
                month: 'long', 
                year: 'numeric' 
            });
            
            // Wochentag (z.B. Salƒ±)
            const dayPart = jetzt.toLocaleDateString('tr-TR', { 
                weekday: 'long' 
            });

            // Zusammenf√ºgen im gew√ºnschten Format
            document.getElementById('g√ºncel-tarih').innerText = `${datePart} / ${dayPart}`;
        }

        // Stelle sicher, dass die Funktion beim Start aufgerufen wird
        updateCurrentDate();

        async function update() {
            const stateSelect = document.getElementById('state-select');
            const citySelect = document.getElementById('city-select');
            const stateId = stateSelect.value;
            const city = urlParams.get('city') || citySelect.value;
            const ayetCont = document.getElementById('ayet-container');
            
        if (urlParams.has('admin')) {
            // Blendet die Dropdown-Men√ºs aus
            if(document.getElementById('picker-area')) {
                document.getElementById('picker-area').style.display = 'none';
            }
            // Blendet das neue Suchfeld aus
            if(document.querySelector('.search-wrapper')) {
                document.querySelector('.search-wrapper').style.display = 'none';
            }
        }        
        
            // Ayet laden
            try {
                const aRes = await fetch(`./data/ayetler.json?v=${Date.now()}`);
                const aData = await aRes.json();
                const dKey = new Date().toLocaleDateString('de-DE', {day:'2-digit', month:'2-digit', year:'numeric'});
                
                if (aData[dKey]) {
                    document.getElementById('ayet-text').innerText = aData[dKey].text;
                    document.getElementById('ayet-quelle').innerText = aData[dKey].quelle;
                    ayetCont.style.display = 'block'; // WICHTIG: Hier wird es sichtbar gemacht
                } else {
                    ayetCont.style.display = 'none'; // Verstecken, wenn kein Ayet da ist
                }
            } catch(e) {
                console.error("Ayet y√ºklenemedi:", e);
                ayetCont.style.display = 'none';
            }
        
            // LocalStorage Speicherung
            if (!urlParams.get('city') && city && stateId) {
                localStorage.setItem('userCity', city);
                localStorage.setItem('userState', stateId);
            }
        
            if (!city || !stateId || !currentStateIndex[city]) return;
        
            document.getElementById('main-widget').style.opacity = "1";
            document.getElementById('city-title').innerText = formatCityName(city);
        
            try {
                const res = await fetch(`./data/${stateId}/${currentStateIndex[city]}`);
                const data = await res.json();
                const dKey = new Date().toLocaleDateString('de-DE', {day:'2-digit', month:'2-digit', year:'numeric'});
                if (data[city] && data[city][dKey]) {
                    document.getElementById('hicri-tarih').innerText = data[city][dKey].hicri;
                    renderTimes(data[city][dKey].vakitler, data[city]);
                    renderWeekly(data[city], city);
                }
            } catch(e) {
                console.error("Vakitler y√ºklenemedi:", e);
            }
        }

        function renderTimes(times, cityAll) {
            let next = null, nextIdx = -1; const now = new Date();
            times.forEach((t, i) => {
                const [h, m] = t.split(':').map(Number);
                const pDate = new Date(now); pDate.setHours(h, m, 0, 0);
                document.getElementById('t-'+i).innerText = t;
                document.getElementById('box-'+i).classList.remove('active');
                if (!next && pDate > now) { next = pDate; nextIdx = i; }
            });
            if (!next) {
                const tom = new Date(now); tom.setDate(tom.getDate()+1);
                const tk = tom.toLocaleDateString('de-DE', {day:'2-digit', month:'2-digit', year:'numeric'});
                if (cityAll[tk]) {
                    const [h, m] = cityAll[tk].vakitler[0].split(':').map(Number);
                    next = new Date(tom); next.setHours(h, m, 0, 0); nextIdx = 0;
                }
            }
            if (nextIdx !== -1) {
                document.getElementById('box-'+nextIdx).classList.add('active');
                document.getElementById('next-vakit-name').innerText = vakitNamen[nextIdx] + " Vaktine";
                startCountdown(next);
            }
        }

        function startCountdown(target) {
            if (interval) clearInterval(interval);
            interval = setInterval(() => {
                const diff = target - new Date();
                if (diff <= 0) { update(); return; }
                document.getElementById('hours').innerText = String(Math.floor(diff/3600000)).padStart(2,'0');
                document.getElementById('minutes').innerText = String(Math.floor((diff%3600000)/60000)).padStart(2,'0');
                document.getElementById('seconds').innerText = String(Math.floor((diff%60000)/1000)).padStart(2,'0');
            }, 1000);
        }

        function handleManualCityChange() { urlParams.delete('city'); update(); }

        // Initialer Start beim Laden der Seite
        async function init() {
            const sCity = urlParams.get('city') || localStorage.getItem('userCity');
            const sState = urlParams.get('state') || localStorage.getItem('userState');
            
            if (sState) {
                document.getElementById('state-select').value = sState;
                // Warten, bis die St√§dte f√ºr dieses Bundesland geladen sind
                await updateCities(sCity); 
                // Dann die Zeiten anzeigen
                update();
            } else {
                update();
            }
        }
        
        init();
        
        // Liste schlie√üen, wenn man au√üerhalb klickt
        document.addEventListener('click', function(e) {
            if (!document.querySelector('.search-wrapper').contains(e.target)) {
                document.getElementById('search-results').style.display = 'none';
            }
        });


    </script>
</body>
</html>
